"use strict";(self.webpackChunk_148=self.webpackChunk_148||[]).push([[748],{1748:function(n,e,t){t.r(e),t.d(e,{default:function(){return h}});var c=t(4270),i=t(3957),s=t(2982),r=t(885),o=t(2791),u=t(1087),a=t(6983),l=t(5660),m=t(4482),f=t(8748),d=t(184),_=function(){var n=(0,m.Z)(),e=n.process,t=n.setProcess,c=n.clearError,i=n.getAllComics,_=(0,o.useState)([]),h=(0,r.Z)(_,2),x=h[0],j=h[1],v=(0,o.useState)(0),g=(0,r.Z)(v,2),p=g[0],b=g[1],w=(0,o.useState)(!1),Z=(0,r.Z)(w,2),E=Z[0],N=Z[1],k=(0,o.useState)(!1),L=(0,r.Z)(k,2),C=L[0],S=L[1],y=function(n,e){c(),N(!e),i(n).then((function(n){return function(n){j((function(e){return[].concat((0,s.Z)(e),(0,s.Z)(n))})),b((function(n){return n+8})),S((function(){return n.length<8})),N(!1)}(n)})).then((function(){return t("confirmed")}))};(0,o.useEffect)((function(){y(p,!0)}),[]),(0,o.useEffect)((function(){return C||window.addEventListener("scroll",F),function(){window.removeEventListener("scroll",F)}}),[p]);var F=function(){window.pageYOffset+document.documentElement.clientHeight>=document.documentElement.scrollHeight&&y(p)};(0,o.useEffect)((function(){if(C)return function(){window.removeEventListener("scroll",F)}}),[C]);var H=(0,o.useRef)([]),I=function(n){var e=n.map((function(n,e){var t=n.id,c=n.thumbnail,i=n.name,s=n.price;return(0,d.jsx)(a.Z,{classNames:"comics__item",timeout:700,children:(0,d.jsx)("li",{className:"comics__item",ref:function(n){return H.current[e]=n},tabIndex:0,onFocus:function(){return function(n){H.current[n].classList.contains("comics__item_focused")||H.current[n].classList.add("comics__item_focused")}(e)},onBlur:function(){return function(n){H.current[n].classList.remove("comics__item_focused")}(e)},children:(0,d.jsxs)(u.rU,{to:"/comics/".concat(t),tabIndex:-1,children:[(0,d.jsx)("img",{src:c,alt:i,className:"comics__item-img"}),(0,d.jsx)("div",{className:"comics__item-name",children:i}),(0,d.jsx)("div",{className:"comics__item-price",children:s})]})})},e)}));return(0,d.jsx)(l.Z,{className:"comics__grid",component:"ul",children:e})},P=(0,o.useMemo)((function(){return(0,f.Z)(e,(function(){return I(x)}),E)}),[e]);return(0,d.jsxs)("div",{className:"comics__list",children:[P,(0,d.jsx)("button",{className:"button button__main button__long",onClick:function(){return y(p)},disabled:E,style:{display:C||"loading"===e&&!E?"none":"block"},children:(0,d.jsx)("div",{className:"inner",children:"load more"})})]})},h=function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(c.q,{children:[(0,d.jsx)("meta",{name:"description",content:"Page with our comics"}),(0,d.jsx)("title",{children:"Comics page"})]}),(0,d.jsx)(i.Z,{}),(0,d.jsx)(_,{})]})}}}]);
//# sourceMappingURL=748.b31dabb6.chunk.js.map